# üç≥ CookBook ‚Äì full‚Äëstack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤

CookBook ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –ø–æ–∏—Å–∫–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤. –ë—ç–∫–µ–Ω–¥ –Ω–∞ FastAPI + SQLAlchemy, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ React/Vite, –±–∞–∑–∞ PostgreSQL, Redis –¥–ª—è —á—ë—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ JWT, S3‚Äë—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –ï—Å—Ç—å email‚Äë–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è. –ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø–∞–∫–æ–≤–∞–Ω –≤ Docker Compose.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤, —Ñ–æ—Ç–æ –æ–±–ª–æ–∂–∫–∏ –∏ —Ñ–æ—Ç–æ —à–∞–≥–æ–≤
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ª–∞–π–∫–∏, –ø—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤ —Å FTS (PostgreSQL, —Ä—É—Å—Å–∫–∞—è –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—è + pg_trgm)
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å email‚Äë–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, –≤—Ö–æ–¥ –ø–æ JWT Bearer
- –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è –ø–æ email, —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤ (logout)
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ S3‚Äë—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

## üß∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Backend: FastAPI, SQLAlchemy 2.x (async), Alembic, Pydantic v2
- DB: PostgreSQL 16, FTS + pg_trgm
- Cache/blacklist: Redis 7
- Frontend: React, Vite, TypeScript, Tailwind CSS, Redux Toolkit
- Storage: S3‚Äë—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ (MinIO/Wasabi/S3)
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è: Docker, Docker Compose


## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Docker)
1) –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è:
```bash
cp env.example .env
```
2) –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—Ç–µ–∫:
```bash
docker compose up -d --build
```
3) –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- Frontend: http://localhost:5173
- Backend OpenAPI: http://localhost:8000/docs

–ú–∏–≥—Ä–∞—Ü–∏–∏ Alembic –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±—ç–∫–µ–Ω–¥–∞.

## üõ†Ô∏è –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–µ–∑ Docker
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: Python 3.11, Node 20+, PostgreSQL, Redis.

Backend
```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
cp env.example .env  # –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è

# –º–∏–≥—Ä–∞—Ü–∏–∏ üì¶
alembic -c alembic.ini upgrade head

# –∑–∞–ø—É—Å–∫ API ‚ñ∂Ô∏è
uvicorn backend.main:app --reload --host 0.0.0.0 --port 8000

# –≤–æ—Ä–∫–µ—Ä –æ—á–µ—Ä–µ–¥–∏ –ø–∏—Å–µ–º (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MQ) ‚úâÔ∏è
python -m backend.workers.mq_worker
```

Frontend
```bash
cd frontend
npm ci
npm run dev
# http://localhost:5173
```
